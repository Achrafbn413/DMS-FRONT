<div class="login-page">
  <!-- Topbar -->
  <div class="topbar">
    <div class="logo-section">
      <img src="/assets/images/DMSLOGO.png" alt="Logo" class="logo-img">
      <span class="logo-text"></span>
    </div>
    <div class="topbar-buttons">
      <a href="#" class="btn btn-secondary">Retour</a>
      <a href="#" class="btn btn-primary">S'inscrire</a>
    </div>
  </div>

  <!-- Login Container -->
  <div class="login-container">
    <div class="login-content">
      <!-- En-tête -->
      <div class="login-header">
        <div class="logo">
          <div class="logo-icon">🏦</div>
          <h1>Connexion</h1>
        </div>
        <p class="subtitle">Accédez à votre espace personnel sécurisé</p>
      </div>

      <!-- Message d'erreur -->
      <div class="error-message" *ngIf="errorMessage">
        <div class="error-content">
          <span class="error-icon">⚠️</span>
          {{ errorMessage }}
        </div>
      </div>

      <!-- Formulaire -->
      <form (ngSubmit)="onSubmit()" class="login-form" novalidate>
        <!-- Champ Email -->
        <div class="form-group">
          <label for="email" class="form-label">Adresse email</label>
          <div class="input-container">
            <div class="input-icon">📧</div>
            <input
              type="email"
              id="email"
              name="email"
              [(ngModel)]="email"
              (input)="onEmailChange()"
              placeholder="votre@email.com"
              class="form-input"
              [class.error]="errorMessage && errorMessage.includes('email')"
              required
              autocomplete="email"
            />
          </div>
        </div>

        <!-- Champ Mot de passe -->
        <div class="form-group">
          <label for="password" class="form-label">Mot de passe</label>
          <div class="input-container">
            <div class="input-icon">🔒</div>
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              name="password"
              [(ngModel)]="password"
              (input)="onPasswordChange()"
              placeholder="Votre mot de passe"
              class="form-input password-input"
              [class.error]="errorMessage && errorMessage.includes('mot de passe')"
              required
              autocomplete="current-password"
            />
            <button
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="showPassword ? 'Masquer le mot de passe' : 'Afficher le mot de passe'"
            >
              {{ showPassword ? '🙈' : '👁️' }}
            </button>
          </div>
        </div>

        <!-- Options supplémentaires -->
        <div class="form-options">
          <label class="checkbox-container">
            <input type="checkbox" class="checkbox">
            <span class="checkmark"></span>
            Se souvenir de moi
          </label>
          <a href="#" class="forgot-password">Mot de passe oublié ?</a>
        </div>

        <!-- Bouton de connexion -->
        <button
          type="submit"
          class="login-button"
          [disabled]="isLoading || !email || !password"
          [class.loading]="isLoading"
        >
          <span *ngIf="!isLoading" class="button-content">
            <span class="button-icon">🚀</span>
            Se connecter
          </span>
          <span *ngIf="isLoading" class="loading-content">
            <div class="spinner"></div>
            Connexion en cours...
          </span>
        </button>
      </form>

      <!-- Pied de page -->
      <div class="login-footer">
        <p>Pas encore de compte ? <a href="#" class="signup-link">Créer un compte</a></p>
        <div class="social-login">
          <p>Ou connectez-vous avec</p>
          <div class="social-buttons">
            <button class="social-btn google-btn">
              <span class="social-icon">🔍</span>
              Google
            </button>
            <button class="social-btn facebook-btn">
              <span class="social-icon">📘</span>
              Facebook
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Éléments décoratifs -->
  <div class="particles">
    <div class="particle" style="left: 10%; top: 20%; width: 4px; height: 4px; animation-delay: 0s;"></div>
    <div class="particle" style="left: 20%; top: 80%; width: 6px; height: 6px; animation-delay: 2s;"></div>
    <div class="particle" style="left: 80%; top: 30%; width: 8px; height: 8px; animation-delay: 1s;"></div>
    <div class="particle" style="left: 70%; top: 70%; width: 5px; height: 5px; animation-delay: 3s;"></div>
    <div class="particle" style="left: 30%; top: 50%; width: 7px; height: 7px; animation-delay: 1.5s;"></div>
  </div>
</div>